<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>An Alternative Advanced Normalization Tools (ANTs) • rpyANTs</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="An Alternative Advanced Normalization Tools (ANTs)">
<meta name="description" content='Provides portable access from R to biomedical image processing toolbox ANTs by Avants et al. (2009) &lt;doi:10.54294/uvnhin&gt; via seamless integration with the Python implementation ANTsPy. Allows biomedical images to be processed in Python and analyzed in R, and vice versa via shared memory. See citation("rpyANTs") for more reference information.'>
<meta property="og:description" content='Provides portable access from R to biomedical image processing toolbox ANTs by Avants et al. (2009) &lt;doi:10.54294/uvnhin&gt; via seamless integration with the Python implementation ANTsPy. Allows biomedical images to be processed in Python and analyzed in R, and vice versa via shared memory. See citation("rpyANTs") for more reference information.'>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">rpyANTs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.4.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dipterix/rpyANTs/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="rpyants">rpyANTs<a class="anchor" aria-label="anchor" href="#rpyants"></a>
</h1></div>
<!-- badges: start -->

<p><code>rpyANTs</code> was detached from a <code>RAVE</code> (<a href="https://rave.wiki" class="external-link">Reproducible Analysis and Visualization of <code>iEEG</code></a>) module. It is now a standalone package that connects <code>ANTsPy</code> with R using seamless shared-memory.</p>
<p>This package was originally created for the following three purposes:</p>
<ul>
<li>Portability
<ul>
<li>Make <code>ANTs</code> easily accessible from the latest R and all major operating systems</li>
<li>Allow <code>RAVE</code> or other code/scripts/frameworks to be reproducible since the code will be OS-invariant</li>
</ul>
</li>
<li>Easy to install
<ul>
<li>Automated installation that requires very little to no knowledge about compilers</li>
<li>Installing <code>rpyANTs</code> takes less than 10 minutes</li>
<li>The goal is to have minimum human intervention</li>
</ul>
</li>
<li>Easy to embed
<ul>
<li>Python scripts using <code>ANTsPy</code> can be executed from <code>rpyANTs</code> and R with no modification</li>
<li>Built-in bilateral data conversions between Python and R allows image generated from Python to be analyzed/visualized in R and vice versa</li>
</ul>
</li>
</ul>
<blockquote>
<p>Disclaimer: This is a third-party maintained R package for <code>ANTs</code>. If you are looking for the <code>ANTsR</code> package by <code>B.B Avants</code>, please check <a href="https://github.com/ANTsX/ANTsR" class="external-link">here</a>.</p>
</blockquote>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The installation requires one-line extra setup</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install from CRAN</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rpyANTs"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Install from nightly dev builder</span></span>
<span><span class="co"># install.packages("rpyANTs", repos = "https://dipterix.r-universe.dev")</span></span>
<span></span>
<span></span>
<span><span class="co"># set up ANTs</span></span>
<span><span class="fu">rpyANTs</span><span class="fu">::</span><span class="fu"><a href="reference/install_ants.html">install_ants</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><code>install_ants</code> creates an isolated <code>Python</code> environment managed by <code>RAVE</code>. This environment does not conflict nor affect your existing Python installations.</p>
<div class="section level3">
<h3 id="upgrade-ants">Upgrade <code>ANTs</code>
<a class="anchor" aria-label="anchor" href="#upgrade-ants"></a>
</h3>
<p>To upgrade <code>ANTs</code>, first update <code>rpyANTs</code>, then upgrade <code>ANTsPyx</code></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rpyANTs"</span><span class="op">)</span></span>
<span><span class="fu">rpymat</span><span class="fu">::</span><span class="fu"><a href="http://dipterix.org/rpymat/reference/conda-env.html" class="external-link">add_packages</a></span><span class="op">(</span>packages <span class="op">=</span> <span class="st">"antspyx"</span>, pip <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="how-to-use">How to use<a class="anchor" aria-label="anchor" href="#how-to-use"></a>
</h2>
<p>To load <code>ANTs</code></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://dipterix.org/rpyANTs/">rpyANTs</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Whether ANTs is available</span></span>
<span><span class="fu"><a href="reference/ants_available.html">ants_available</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load ANTs into R</span></span>
<span><span class="va">ants</span></span></code></pre></div>
<p>In R, we use <code>$</code> to get module functions or class members. For example:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ants</span><span class="op">$</span><span class="va">add_noise_to_image</span></span>
<span><span class="co">#&gt; &lt;ANTs Python Wrapper&gt;</span></span>
<span><span class="co">#&gt; Help on function add_noise_to_image in module ants.ops.add_noise_to_image:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; add_noise_to_image(image, noise_model, noise_parameters)</span></span>
<span><span class="co">#&gt;     Add noise to an image using additive Gaussian, salt-and-pepper,</span></span>
<span><span class="co">#&gt;     shot, or speckle noise.</span></span>
<span><span class="co">#&gt;     </span></span>
<span><span class="co">#&gt;     Arguments</span></span>
<span><span class="co">#&gt;     ---------</span></span>
<span><span class="co">#&gt;     image : ANTsImage</span></span>
<span><span class="co">#&gt;         scalar image.</span></span>
<span><span class="co">#&gt;     </span></span>
<span><span class="co">#&gt;     noise_model : string</span></span>
<span><span class="co">#&gt;         'additivegaussian', 'saltandpepper', 'shot', or 'speckle'.</span></span>
<span><span class="co">#&gt;     </span></span>
<span><span class="co">#&gt;     noise_parameters : tuple or array or float</span></span>
<span><span class="co">#&gt;         'additivegaussian': (mean, standardDeviation)</span></span>
<span><span class="co">#&gt;         'saltandpepper': (probability, saltValue, pepperValue)</span></span>
<span><span class="co">#&gt;         'shot': scale</span></span>
<span><span class="co">#&gt;         'speckle': standardDeviation</span></span>
<span><span class="co">#&gt;     </span></span>
<span><span class="co">#&gt;     Returns</span></span>
<span><span class="co">#&gt;     -------</span></span>
<span><span class="co">#&gt;     ANTsImage</span></span>
<span><span class="co">#&gt;     </span></span>
<span><span class="co">#&gt;     Example</span></span>
<span><span class="co">#&gt;     -------</span></span>
<span><span class="co">#&gt;     &gt;&gt;&gt; import ants</span></span>
<span><span class="co">#&gt;     &gt;&gt;&gt; image = ants.image_read(ants.get_ants_data('r16'))</span></span>
<span><span class="co">#&gt;     &gt;&gt;&gt; noise_image = ants.add_noise_to_image(image, 'additivegaussian', (0.0, 1.0))</span></span>
<span><span class="co">#&gt;     &gt;&gt;&gt; noise_image = ants.add_noise_to_image(image, 'saltandpepper', (0.1, 0.0, 100.0))</span></span>
<span><span class="co">#&gt;     &gt;&gt;&gt; noise_image = ants.add_noise_to_image(image, 'shot', 1.0)</span></span>
<span><span class="co">#&gt;     &gt;&gt;&gt; noise_image = ants.add_noise_to_image(image, 'speckle', 1.0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; *** Above documentation is for Python. </span></span>
<span><span class="co">#&gt; *** Please use `$` instead of `.` for modules and functions in R</span></span>
<span><span class="co">#&gt; &lt;function add_noise_to_image at 0x163af8360&gt;</span></span>
<span><span class="co">#&gt;  signature: (image, noise_model, noise_parameters)</span></span></code></pre></div>
<p>The following R code translates Python code into R:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># &gt;&gt;&gt; img = ants.image_read(ants.get_ants_data('r16'))</span></span>
<span><span class="va">img</span> <span class="op">&lt;-</span> <span class="va">ants</span><span class="op">$</span><span class="fu">image_read</span><span class="op">(</span><span class="va">ants</span><span class="op">$</span><span class="fu">get_ants_data</span><span class="op">(</span><span class="st">'r16'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># &gt;&gt;&gt; noise_image1 = ants.add_noise_to_image(img, 'additivegaussian', (0.0, 1.0))</span></span>
<span><span class="va">noise_image1</span> <span class="op">&lt;-</span> <span class="va">ants</span><span class="op">$</span><span class="fu">add_noise_to_image</span><span class="op">(</span></span>
<span>  <span class="va">img</span>, <span class="st">'additivegaussian'</span>, </span>
<span>  noise_parameters <span class="op">=</span> <span class="fu"><a href="https://rstudio.github.io/reticulate/reference/tuple.html" class="external-link">tuple</a></span><span class="op">(</span><span class="fl">0.0</span>, <span class="fl">1.0</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># &gt;&gt;&gt; noise_image2 = ants.add_noise_to_image(img, 'saltandpepper', (0.1, 0.0, 100.0))</span></span>
<span><span class="va">noise_image2</span> <span class="op">&lt;-</span> <span class="va">ants</span><span class="op">$</span><span class="fu">add_noise_to_image</span><span class="op">(</span></span>
<span>  <span class="va">img</span>, <span class="st">'saltandpepper'</span>, </span>
<span>  noise_parameters <span class="op">=</span> <span class="fu"><a href="https://rstudio.github.io/reticulate/reference/tuple.html" class="external-link">tuple</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.0</span>, <span class="fl">100.0</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># &gt;&gt;&gt; noise_image3 = ants.add_noise_to_image(img, 'shot', 1.0)</span></span>
<span><span class="va">noise_image3</span> <span class="op">&lt;-</span> <span class="va">ants</span><span class="op">$</span><span class="fu">add_noise_to_image</span><span class="op">(</span></span>
<span>  <span class="va">img</span>, <span class="st">'shot'</span>, </span>
<span>  noise_parameters <span class="op">=</span> <span class="fl">1.0</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># &gt;&gt;&gt; noise_image4 = ants.add_noise_to_image(img, 'speckle', 1.0)</span></span>
<span><span class="va">noise_image4</span> <span class="op">&lt;-</span> <span class="va">ants</span><span class="op">$</span><span class="fu">add_noise_to_image</span><span class="op">(</span></span>
<span>  <span class="va">img</span>, <span class="st">'speckle'</span>, </span>
<span>  noise_parameters <span class="op">=</span> <span class="fl">1.0</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># &gt;&gt;&gt; trans = ants.create_ants_transform(</span></span>
<span><span class="co"># &gt;&gt;&gt;   dimension=2, matrix=[[0.707, 0.707], [-.707, 0.707]],</span></span>
<span><span class="co"># &gt;&gt;&gt;   translation=[-53, 128])</span></span>
<span><span class="va">trans</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/as_ANTsTransform.html">as_ANTsTransform</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.707</span>, <span class="fl">0.707</span>, <span class="op">-</span><span class="fl">53</span>,</span>
<span>    <span class="op">-</span><span class="fl">0.707</span>, <span class="fl">0.707</span>, <span class="fl">128</span><span class="op">)</span>,</span>
<span>  nrow <span class="op">=</span> <span class="fl">2</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span>, dimension <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># &gt;&gt;&gt; noise_image4 = trans.apply_to_image(noise_image4)</span></span>
<span><span class="va">noise_image4</span> <span class="op">&lt;-</span> <span class="va">trans</span><span class="op">$</span><span class="fu">apply_to_image</span><span class="op">(</span><span class="va">noise_image4</span><span class="op">)</span></span></code></pre></div>
<p>To load imaging data into R</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Use [] to convert ANTsImage into R array</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/array.html" class="external-link">is.array</a></span><span class="op">(</span><span class="va">img</span><span class="op">[</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span></span>
<span><span class="co"># plot via R</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/layout.html" class="external-link">layout</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">4</span>,<span class="fl">5</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">2</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span><span class="op">)</span>, bg <span class="op">=</span> <span class="st">"black"</span>, fg <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span></span>
<span><span class="va">pal</span> <span class="op">&lt;-</span> <span class="fu">grDevices</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grDevices/gray.colors.html" class="external-link">gray.colors</a></span><span class="op">(</span><span class="fl">256</span>, start <span class="op">=</span> <span class="fl">0</span>, end <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></span><span class="op">(</span><span class="va">img</span><span class="op">[</span><span class="op">]</span>, asp <span class="op">=</span> <span class="fl">1</span>, axes <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>      col <span class="op">=</span> <span class="va">pal</span>, zlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">255</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></span><span class="op">(</span><span class="va">noise_image1</span><span class="op">[</span><span class="op">]</span>, asp <span class="op">=</span> <span class="fl">1</span>, axes <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>      col <span class="op">=</span> <span class="va">pal</span>, zlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">255</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></span><span class="op">(</span><span class="va">noise_image2</span><span class="op">[</span><span class="op">]</span>, asp <span class="op">=</span> <span class="fl">1</span>, axes <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>      col <span class="op">=</span> <span class="va">pal</span>, zlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">255</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></span><span class="op">(</span><span class="va">noise_image3</span><span class="op">[</span><span class="op">]</span>, asp <span class="op">=</span> <span class="fl">1</span>, axes <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>      col <span class="op">=</span> <span class="va">pal</span>, zlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">255</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></span><span class="op">(</span><span class="va">noise_image4</span><span class="op">[</span><span class="op">]</span>, asp <span class="op">=</span> <span class="fl">1</span>, axes <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>      col <span class="op">=</span> <span class="va">pal</span>, zlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">255</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-load-image-into-r-1.png" width="80%"></p>
</div>
<div class="section level2">
<h2 id="advanced-use-case">Advanced use case<a class="anchor" aria-label="anchor" href="#advanced-use-case"></a>
</h2>
<div class="section level3">
<h3 id="rundebug-python-scripts">Run/Debug <code>Python</code> scripts<a class="anchor" aria-label="anchor" href="#rundebug-python-scripts"></a>
</h3>
<p><code>rpyANTs</code> ports functions that allows to run <code>Python</code> scripts. For example:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://dipterix.org/rpyANTs/">rpyANTs</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">script_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".py"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/writeLines.html" class="external-link">writeLines</a></span><span class="op">(</span>con <span class="op">=</span> <span class="va">script_path</span>, text <span class="op">=</span> <span class="st">r"(</span></span>
<span><span class="st"></span></span>
<span><span class="st"># This is Python script</span></span>
<span><span class="st">import ants</span></span>
<span><span class="st">print(ants.__version__)</span></span>
<span><span class="st"></span></span>
<span><span class="st">)"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="http://dipterix.org/rpymat/reference/run_pyscript.html" class="external-link">run_script</a></span><span class="op">(</span><span class="va">script_path</span><span class="op">)</span></span>
<span><span class="co">#&gt; 0.5.4</span></span></code></pre></div>
<p>You can also run <code>Python</code> interactive in R (yes, you are correct). Simply run</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rpyANTs</span><span class="fu">::</span><span class="fu"><a href="http://dipterix.org/rpymat/reference/repl_python.html" class="external-link">repl_python</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>The console prefix will change from <code>&gt;</code> to <code>&gt;&gt;&gt;</code>, meaning you are in <code>Python</code> mode:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="sc">&gt;</span> rpyANTs<span class="sc">::</span><span class="fu">repl_python</span>()</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>Python <span class="dv">3</span>.<span class="fl">8.16</span> (<span class="sc">/</span>Users<span class="sc">/</span>dipterix<span class="sc">/</span>Library<span class="sc">/</span>r<span class="sc">-</span>rpymat<span class="sc">/</span>miniconda<span class="sc">/</span>envs<span class="sc">/</span>rpymat<span class="sc">-</span>conda<span class="sc">-</span>env<span class="sc">/</span>bin<span class="sc">/</span>python3<span class="fl">.8</span>)</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>Reticulate <span class="fl">1.26</span> REPL <span class="sc">--</span> A Python interpreter <span class="cf">in</span> R.</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>Enter <span class="st">'exit'</span> or <span class="st">'quit'</span> to exit the REPL and return to R.</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="sc">&gt;</span><span class="er">&gt;&gt;</span> </span></code></pre></div>
<p>Try some Python code!</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="sc">&gt;</span><span class="er">&gt;&gt;</span> import ants</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="sc">&gt;</span><span class="er">&gt;&gt;</span> <span class="fu">help</span>(ants.registration)</span></code></pre></div>
<p>To exit Python mode, type <code>exit</code> (no parenthesis) and hit enter key</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="sc">&gt;</span><span class="er">&gt;&gt;</span> exit</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="sc">&gt;</span> </span></code></pre></div>
</div>
<div class="section level3">
<h3 id="data-conversions">Data conversions<a class="anchor" aria-label="anchor" href="#data-conversions"></a>
</h3>
<p>Native R variables can be easily converted to <code>Python</code> and back via <code>r_to_py</code> and <code>py_to_r</code>.</p>
<p>For example</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># R to Python</span></span>
<span><span class="fu"><a href="https://rstudio.github.io/reticulate/reference/r-py-conversion.html" class="external-link">r_to_py</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; 1.0</span></span>
<span><span class="fu"><a href="https://rstudio.github.io/reticulate/reference/r-py-conversion.html" class="external-link">r_to_py</a></span><span class="op">(</span><span class="fl">1L</span><span class="op">)</span></span>
<span><span class="co">#&gt; 1</span></span>
<span></span>
<span><span class="co"># Python to R</span></span>
<span><span class="va">py_obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/py_list.html">py_list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">py_obj</span><span class="op">)</span>  <span class="co"># &lt;- this is a python object</span></span>
<span><span class="co">#&gt; [1] "python.builtin.list"   "python.builtin.object"</span></span>
<span></span>
<span><span class="fu"><a href="https://rstudio.github.io/reticulate/reference/r-py-conversion.html" class="external-link">py_to_r</a></span><span class="op">(</span><span class="va">py_obj</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 2 3</span></span></code></pre></div>
<p>You can also use variables created in R from Python or vice versa:</p>
<p>In the following example, an R object <code>object_r</code> is created. In Python, it can be accessed (read-only) via <code>r.object_r</code></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="sc">&gt;</span> object_r <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">repl_python</span>()</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>Python <span class="dv">3</span>.<span class="fl">8.16</span> (<span class="sc">/</span>Users<span class="sc">/</span>dipterix<span class="sc">/</span>Library<span class="sc">/</span>r<span class="sc">-</span>rpymat<span class="sc">/</span>miniconda<span class="sc">/</span>envs<span class="sc">/</span>rpymat<span class="sc">-</span>conda<span class="sc">-</span>env<span class="sc">/</span>bin<span class="sc">/</span>python3<span class="fl">.8</span>)</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>Reticulate <span class="fl">1.26</span> REPL <span class="sc">--</span> A Python interpreter <span class="cf">in</span> R.</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>Enter <span class="st">'exit'</span> or <span class="st">'quit'</span> to exit the REPL and return to R.</span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a><span class="sc">&gt;</span><span class="er">&gt;&gt;</span> r.object_r</span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a>[<span class="fl">1.0</span>, <span class="fl">2.0</span>, <span class="fl">3.0</span>]</span></code></pre></div>
<p>Similarly, a Python object <code>object_py</code> is created, and it can be read from <code>py$object_py</code>:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="sc">&gt;</span><span class="er">&gt;&gt;</span> import numpy as np</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="sc">&gt;</span><span class="er">&gt;&gt;</span> object_py <span class="ot">=</span> <span class="fu">np.array</span>([<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>])</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="sc">&gt;</span><span class="er">&gt;&gt;</span> exit</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="sc">&gt;</span> py<span class="sc">$</span>object_py</span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="known-issues">Known issues<a class="anchor" aria-label="anchor" href="#known-issues"></a>
</h2>
<div class="section level3">
<h3 id="variable-types">Variable types<a class="anchor" aria-label="anchor" href="#variable-types"></a>
</h3>
<p>R is not a type-rigid language. Some functions in <code>ANTsPy</code> require specific variable types that are often vague in R. For example the <code>dimension</code> argument in function <code>ants$create_ants_transform</code> needs to be an integer, but R’s default numerical values are <code>double</code>. In this case, variable formats need to be explicitly given.</p>
<p>Here are several examples</p>
<ol style="list-style-type: decimal">
<li>Explicit integers</li>
</ol>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># ants$create_ants_transform(dimension = 3)     # &lt;- error</span></span>
<span><span class="va">ants</span><span class="op">$</span><span class="fu">create_ants_transform</span><span class="op">(</span>dimension <span class="op">=</span> <span class="fl">3L</span><span class="op">)</span>      <span class="co"># &lt; XXXL is an explicit integer</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>
<code>Tuple</code>, <code>list</code>, and <code>dictionary</code>
</li>
</ol>
<p>A Python <code>tuple</code> is a vector that cannot alter lengths.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Wrong as `aff_iterations` needs to be a tuple</span></span>
<span><span class="co"># ants$registration(fixed, moving, ..., aff_iterations = c(6L, 4L, 2L, 1L))</span></span>
<span></span>
<span><span class="va">ants</span><span class="op">$</span><span class="fu">registration</span><span class="op">(</span><span class="va">fixed</span>, <span class="va">moving</span>, <span class="va">...</span>, aff_iterations <span class="op">=</span> <span class="fu"><a href="https://rstudio.github.io/reticulate/reference/tuple.html" class="external-link">tuple</a></span><span class="op">(</span><span class="fl">6L</span>, <span class="fl">4L</span>, <span class="fl">2L</span>, <span class="fl">1L</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Similar conversions can be done via <code>py_list</code>, <code>py_dict</code>.</p>
<ol start="3" style="list-style-type: decimal">
<li>Convert <code>TRUE</code> vs. <code>FALSE</code>
</li>
</ol>
<p>A Python module can be imported with auto-conversion (argument <code>convert</code>) set to <code>TRUE</code> or <code>FALSE</code>. When auto-conversion is on, the Python function results will be converted to R objects automatically. For example,</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">np</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rstudio.github.io/reticulate/reference/import.html" class="external-link">import</a></span><span class="op">(</span><span class="st">"numpy"</span>, convert <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">np</span><span class="op">$</span><span class="fu">eye</span><span class="op">(</span><span class="fl">4L</span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3] [,4]</span></span>
<span><span class="co">#&gt; [1,]    1    0    0    0</span></span>
<span><span class="co">#&gt; [2,]    0    1    0    0</span></span>
<span><span class="co">#&gt; [3,]    0    0    1    0</span></span>
<span><span class="co">#&gt; [4,]    0    0    0    1</span></span></code></pre></div>
<p>The <code>numpy</code> array is automatically translated as an R matrix. While this is convenient, this automated conversion could cause some issues when the function results are further passed into another Python function. For example, the following code will raise errors.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="sc">&gt;</span> np <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"numpy"</span>, <span class="at">convert =</span> <span class="cn">TRUE</span>) </span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a><span class="sc">&gt;</span> ants <span class="ot">&lt;-</span> <span class="fu">load_ants</span>()</span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a><span class="er">&gt;</span> image <span class="ot">&lt;-</span> ants<span class="sc">$</span><span class="fu">image_read</span>(ants<span class="sc">$</span><span class="fu">get_ants_data</span>(<span class="st">'mni'</span>))</span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a><span class="sc">&gt;</span> image_array <span class="ot">&lt;-</span> np<span class="sc">$</span><span class="fu">asarray</span>(<span class="fu">list</span>(image, image))</span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a><span class="er">&gt;</span> ants<span class="sc">$</span><span class="fu">plot_grid</span>(image_array, <span class="at">slices =</span> <span class="dv">100</span><span class="dt">L</span>)</span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">py_call_impl</span>(callable, dots<span class="sc">$</span>args, dots<span class="sc">$</span>keywords) <span class="sc">:</span></span>
<span id="cb18-10"><a href="#cb18-10" tabindex="-1"></a>Matrix type cannot be converted to <span class="fu">python</span> (only integer, numeric, complex, logical, and character matrixes can be converted</span></code></pre></div>
<p>The error is raised because <code>numpy</code> has <code>convert=TRUE</code>, hence <code>image_array</code> is converted to an R list with each element being a <code>ANTsImage</code> instance. Calling <code>ants$plot_grid</code> needs R-to-Python conversion for all input variables, including <code>image_array</code>. However this conversion makes <code>image_array</code> a Python list instead of <code>numpy</code> array, violating the input format.</p>
<p>A safer way is to keep in the Python format, i.e. <code>convert=FALSE</code>. In this mode, function results will not be converted back to R (you need to manually make conversion by yourself via <code>py_to_r</code>). Now the following example works.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="sc">&gt;</span> np <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"numpy"</span>, <span class="at">convert =</span> <span class="cn">TRUE</span>) </span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="sc">&gt;</span> ants <span class="ot">&lt;-</span> <span class="fu">load_ants</span>()</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a><span class="er">&gt;</span> image <span class="ot">&lt;-</span> ants<span class="sc">$</span><span class="fu">image_read</span>(ants<span class="sc">$</span><span class="fu">get_ants_data</span>(<span class="st">'mni'</span>))</span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a><span class="sc">&gt;</span> image_array <span class="ot">&lt;-</span> np<span class="sc">$</span><span class="fu">asarray</span>(<span class="fu">list</span>(image, image))</span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a><span class="er">&gt;</span> ants<span class="sc">$</span><span class="fu">plot_grid</span>(image_array, <span class="at">slices =</span> <span class="dv">100</span><span class="dt">L</span>)</span></code></pre></div>
<blockquote>
<p>Object <code>ants</code> in <code>rpyANTs</code> is a non-conversion Python module. Object <code>py</code> is a auto-conversion Python module</p>
</blockquote>
</div>
<div class="section level3">
<h3 id="operators">Operators<a class="anchor" aria-label="anchor" href="#operators"></a>
</h3>
<p>In Python, operators on <code>ANTsImage</code>, such as <code>img &gt; 5</code> are defined. Such operators is being supported in R as <code>S3</code> generic functions. Don’t worry if you don’t know what is <code>S3</code> generic, see the following examples:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://dipterix.org/rpyANTs/">rpyANTs</a></span><span class="op">)</span></span>
<span><span class="va">image</span> <span class="op">&lt;-</span> <span class="va">ants</span><span class="op">$</span><span class="fu">image_read</span><span class="op">(</span><span class="va">ants</span><span class="op">$</span><span class="fu">get_ants_data</span><span class="op">(</span><span class="st">'mni'</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">image</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">image</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">image</span><span class="op">)</span></span>
<span></span>
<span><span class="va">y1</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">image</span> <span class="op">&gt;</span> <span class="fl">10</span><span class="op">)</span> <span class="op">*</span> <span class="fl">8000</span></span>
<span></span>
<span><span class="va">y2</span> <span class="op">&lt;-</span> <span class="va">image</span></span>
<span><span class="va">y2</span><span class="op">[</span><span class="va">y2</span> <span class="op">&lt;</span> <span class="fl">10</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">4000</span></span>
<span></span>
<span><span class="va">y3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">image</span> <span class="op">+</span> <span class="fl">1000</span><span class="op">)</span></span>
<span><span class="va">y3</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">y3</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">y3</span><span class="op">)</span><span class="op">)</span> <span class="op">/</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">y3</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">y3</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fl">8000</span></span>
<span></span>
<span><span class="fu"><a href="reference/ants_plot_grid.html">ants_plot_grid</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">image</span>, <span class="va">y1</span>, <span class="va">y2</span>, <span class="va">y3</span><span class="op">)</span>,</span>
<span>  slices <span class="op">=</span> <span class="fl">100</span>, shape <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>  vmin <span class="op">=</span> <span class="fl">0</span>, vmax <span class="op">=</span> <span class="fl">8000</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-s3-generic-showcase-1.png" width="100%"></p>
<p>Although the operator generics have been implemented for common classes such as <code>ANTsImage</code> and <code>ANTsTransform</code>. Many are still under development and not supported. In this case, you might want to use the following workaround methods. You are more than welcome to post a wish-list or issue ticket to the <a href="https://github.com/dipterix/rpyANTs/issues" class="external-link"><code>Github</code> repository</a></p>
<p>Alternative version 1: call operators directly</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://dipterix.org/rpyANTs/">rpyANTs</a></span><span class="op">)</span></span>
<span><span class="va">image</span> <span class="op">&lt;-</span> <span class="va">ants</span><span class="op">$</span><span class="fu">image_read</span><span class="op">(</span><span class="va">ants</span><span class="op">$</span><span class="fu">get_ants_data</span><span class="op">(</span><span class="st">'r16'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The followings are the same</span></span>
<span><span class="co"># threshold &lt;- image &gt; 10</span></span>
<span><span class="va">threshold</span> <span class="op">&lt;-</span> <span class="va">image</span><span class="op">$</span><span class="fu">`__gt__`</span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">ants</span><span class="op">$</span><span class="fu">plot</span><span class="op">(</span><span class="va">threshold</span><span class="op">)</span></span></code></pre></div>
<p>Work-around version 2: If you don’t know how Python operators work, use Python directly</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://dipterix.org/rpyANTs/">rpyANTs</a></span><span class="op">)</span></span>
<span><span class="va">image</span> <span class="op">&lt;-</span> <span class="va">ants</span><span class="op">$</span><span class="fu">image_read</span><span class="op">(</span><span class="va">ants</span><span class="op">$</span><span class="fu">get_ants_data</span><span class="op">(</span><span class="st">'r16'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create an R variable from Python!</span></span>
<span><span class="fu"><a href="https://rstudio.github.io/reticulate/reference/py_run.html" class="external-link">py_run_string</a></span><span class="op">(</span><span class="st">"r.threshold = r.image &gt; 10"</span>, local <span class="op">=</span> <span class="cn">TRUE</span>, convert <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">ants</span><span class="op">$</span><span class="fu">plot</span><span class="op">(</span><span class="va">threshold</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>This is a general citation for <code>ANTs</code>:</p>
<blockquote>
<p>Avants, B.B., Tustison, N. and Song, G., 2009. Advanced normalization tools (ANTS). The Insight Journal, 2(365), pp.1-35.</p>
</blockquote>
<p>If you are using <code>rpyANTs</code> through <code>RAVE</code> or <code>YAEL</code>, please also cite:</p>
<blockquote>
<p>Magnotti, J.F., Wang, Z. and Beauchamp, M.S., 2020. RAVE: Comprehensive open-source software for reproducible analysis and visualization of intracranial EEG data. NeuroImage, 223, p.117341.</p>
</blockquote>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>This package <code>rpyANTs</code> is released under Apache-2.0 license (Copyright: Zhengjia Wang). The underlying <code>ANTsPy</code> is released under Apache-2.0 license (Copyright: ANTs contributors).</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=rpyANTs" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/dipterix/rpyANTs/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/dipterix/rpyANTs/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>Apache License 2.0</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rpyANTs</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Zhengjia Wang <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=rpyANTs" class="external-link"><img src="https://www.r-pkg.org/badges/version/rpyANTs" alt="CRAN status"></a></li>
<li><a href="https://rave-ieeg.r-universe.dev/rpyANTs" class="external-link"><img src="https://rave-ieeg.r-universe.dev/badges/rpyANTs" alt="r-universe"></a></li>
<li><a href="https://github.com/dipterix/rpyANTs/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/dipterix/rpyANTs/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zhengjia Wang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
